# notes_with_autocorrector

Тестовое задание для поступления на стажировку

## Пояснения по работе модулей

Приложение разделено на слои:

### Слой базы данных (app/database)

В качестве базы данных для хранениия аккаунтов и заметок взята PostgreSQL. Работа с ней осуществляется через SQLalchemy в модуле app.database. Круды выполняют только запись и чтение из бд. Вся валидация и проверка данных происходит в слоях service и api.

### Слой бизнес логики (app/service)

В этом слое выполняется проверка бизнес логики приложения и вызов исключений в случае ее нарушения.

### Слой api (app/api)

В качестве веб-фреймворка выбран FastApi. В папке routes находятся ручки api:

- login_account для регистрации и авторизации
- notes для получения и создания заметок аккаунта

У данного приложения отсутствует разделение на фронтенд и бекенд. Модуль api сам рендерит html страницы на фронт. Все шаблоны страниц, css файлы и js скрипты находятся в папке app/templates.

### Вспомогательные модули

Все настройки приложения и модулей находятся в папке app/settings. Для работы приложения обязательно нужно создать файл .env в корневой папке, и заполнить его как указано в .env.example со своими параметрами.
В папке app/entities находятся классы данных для слоя бизнес логики.

Папка app/utilities предназначена для утилит, которые используются в работе других слоев. Как пример, там есть улитита converter содержащая в себе функцию декоратор для перевода из образов таблиц sqlalchemy в экземпляры entities.

Исключения, которые вызывает слой бизнес логики хранятся в папке app/errors. Они все имеют родительский базовый класс BaseApplicationException для разделения исключений, котрые вызывает само прилоложение и исключения возникающие по причине багов.

В папке app/tests расположены тесты на все слои и фикстуры к ним.
Запуск тестов производить из корневой папки командой `pytest tests.py`

## Запуск приложения (на Windows)

Для запуска должен быть установлен DockerDesktop. (<https://www.docker.com/products/docker-desktop/>)

1. Необходимо установить виртуальное окружение `python -m venv myenv`

2. Для активации виртуального окружения запустить команду `myenv\Scripts\activate`

3. Запустить команду `pip install -r requirements.txt`. Она установит все необходимые пакеты из файла requirements.txt.

4. Для сборки проекта выполнить команду `docker-compose build`. Эта команда собирает проект по инструкции в файлах Dockerfile и docker-compose.yml. Создает 2 контейнера с приложением и базой данных.

5. Для запуска `docker-compose up`.

6. Перейти по <http://127.0.0.1:8000/>
